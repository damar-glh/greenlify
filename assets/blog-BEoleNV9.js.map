{"version":3,"file":"blog-BEoleNV9.js","sources":["../../src/services/blog.js"],"sourcesContent":["import {BLOG_ENDPOINT} from \"@/constants/routesAPI\";\nimport axios from \"axios\";\n\nexport const getBlogs = async (filters) => {\n    try {\n        let url = BLOG_ENDPOINT;\n        if (Object.keys(filters).length > 0) {\n            const queryParams = new URLSearchParams();\n            if (filters.keyword) {\n                queryParams.append('keyword', filters.keyword);\n            }\n            if (filters.page) {\n                const start = (filters.page - 1) * (filters.limit || 4) + 1;\n                queryParams.append('start', start);\n            }\n            if (filters.limit) {\n                queryParams.append('limit', filters.limit);\n            }\n            url += `?${queryParams.toString()}`;\n        }\n        const response = await axios.get(url);\n        const data = response.data.data;\n        return {\n            latest_article: data.latest_article,\n            articles: data.pagination.results,\n            pagination: {\n                next: data.pagination.next,\n                previous: data.pagination.previous,\n                per_page: data.pagination.per_page,\n                start_index: data.pagination.start_index,\n                total_data: data.pagination.total_data\n            }\n        };\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || 'Gagal mengambil data artikel');\n        } else if (error.request) {\n            throw new Error('Kegagalan dalam mengambil data dari server');\n        } else {\n            throw new Error('Kesalahan dalam mengatur request');\n        }\n    }\n};\n\nexport const getBlogById = async (id, filters = {}) => {\n    try {\n        let url = `${BLOG_ENDPOINT}/${id}`;\n\n        if (Object.keys(filters).length > 0) {\n            const queryParams = new URLSearchParams();\n            if (filters.page) {\n                const start = (filters.page - 1) * (filters.limit || 4) + 1;\n                queryParams.append('start', start);\n            }\n            if (filters.limit) {\n                queryParams.append('limit', filters.limit);\n            }\n            url += `?${queryParams.toString()}`;\n        }\n        const response = await axios.get(url);\n        return response.data.data;\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || 'Galat dalam mengambil data artikel');\n        } else if (error.request) {\n            throw new Error('Tidak ada respon dari server');\n        } else {\n            throw new Error('Kesanalah dalam mengatur request');\n        }\n    }\n}\n\nexport const addComment = async (articleId, comment) => {\n    try {\n        const response = await axios.post(`${BLOG_ENDPOINT}/${articleId}`, comment);\n        if (response.data.status === 'success') {\n            return response.data;\n        } else {\n            return (response.data.message || 'Gagal menambahkan komentar');\n        }\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || 'Gagal menambahkan komentar');\n        } else if (error.request) {\n            throw new Error('Tidak ada respon dari server');\n        } else {\n            throw new Error('Kesanalah dalam mengatur request');\n        }\n    }\n};"],"names":["getBlogs","filters","url","BLOG_ENDPOINT","queryParams","start","data","axios","error","getBlogById","id","addComment","articleId","comment","response"],"mappings":"+CAGY,MAACA,EAAW,MAAOC,GAAY,CACvC,GAAI,CACA,IAAIC,EAAMC,EACV,GAAI,OAAO,KAAKF,CAAO,EAAE,OAAS,EAAG,CACjC,MAAMG,EAAc,IAAI,gBAIxB,GAHIH,EAAQ,SACRG,EAAY,OAAO,UAAWH,EAAQ,OAAO,EAE7CA,EAAQ,KAAM,CACd,MAAMI,GAASJ,EAAQ,KAAO,IAAMA,EAAQ,OAAS,GAAK,EAC1DG,EAAY,OAAO,QAASC,CAAK,CACjD,CACgBJ,EAAQ,OACRG,EAAY,OAAO,QAASH,EAAQ,KAAK,EAE7CC,GAAO,IAAIE,EAAY,SAAU,CAAA,EAC7C,CAEQ,MAAME,GADW,MAAMC,EAAM,IAAIL,CAAG,GACd,KAAK,KAC3B,MAAO,CACH,eAAgBI,EAAK,eACrB,SAAUA,EAAK,WAAW,QAC1B,WAAY,CACR,KAAMA,EAAK,WAAW,KACtB,SAAUA,EAAK,WAAW,SAC1B,SAAUA,EAAK,WAAW,SAC1B,YAAaA,EAAK,WAAW,YAC7B,WAAYA,EAAK,WAAW,UAC5C,CACS,CACJ,OAAQE,EAAO,CACZ,MAAIA,EAAM,SACA,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,8BAA8B,EACtEA,EAAM,QACP,IAAI,MAAM,4CAA4C,EAEtD,IAAI,MAAM,kCAAkC,CAE9D,CACA,EAEaC,EAAc,MAAOC,EAAIT,EAAU,KAAO,CACnD,GAAI,CACA,IAAIC,EAAM,GAAGC,CAAa,IAAIO,CAAE,GAEhC,GAAI,OAAO,KAAKT,CAAO,EAAE,OAAS,EAAG,CACjC,MAAMG,EAAc,IAAI,gBACxB,GAAIH,EAAQ,KAAM,CACd,MAAMI,GAASJ,EAAQ,KAAO,IAAMA,EAAQ,OAAS,GAAK,EAC1DG,EAAY,OAAO,QAASC,CAAK,CACjD,CACgBJ,EAAQ,OACRG,EAAY,OAAO,QAASH,EAAQ,KAAK,EAE7CC,GAAO,IAAIE,EAAY,SAAU,CAAA,EAC7C,CAEQ,OADiB,MAAMG,EAAM,IAAIL,CAAG,GACpB,KAAK,IACxB,OAAQM,EAAO,CACZ,MAAIA,EAAM,SACA,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,oCAAoC,EAC5EA,EAAM,QACP,IAAI,MAAM,8BAA8B,EAExC,IAAI,MAAM,kCAAkC,CAE9D,CACA,EAEaG,EAAa,MAAOC,EAAWC,IAAY,CACpD,GAAI,CACA,MAAMC,EAAW,MAAMP,EAAM,KAAK,GAAGJ,CAAa,IAAIS,CAAS,GAAIC,CAAO,EAC1E,OAAIC,EAAS,KAAK,SAAW,UAClBA,EAAS,KAERA,EAAS,KAAK,SAAW,4BAExC,OAAQN,EAAO,CACZ,MAAIA,EAAM,SACA,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,4BAA4B,EACpEA,EAAM,QACP,IAAI,MAAM,8BAA8B,EAExC,IAAI,MAAM,kCAAkC,CAE9D,CACA"}